# Sendbox Client

A simple Object Oriented PHP Client for Sendbox SMS API.

Uses [Sendbox API](https://docs.sendbox.co/).

## Requirements

* PHP ^8.0
* Guzzlehttp ^6|^7

## Installation

Via [Composer](https://getcomposer.org).

### PHP ^8.0:

```bash
composer require abdulsalamishaq/sendbox
```

## Basic usage

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

// Create a new Client instance
$client = new Client('{access_token}');

// Create a new Client instance and set options
$client = new Client('{access_token}', [
            'app_id' => '{app_id}', 
            'client_secret' => '{client_secret}',
            'refresh_token' => '{refresh_token}',
        ]);

$client->shipment->getShipments();
```

## Shipment

### Get Shipments
Uses [Shipments](https://docs.sendbox.co/shipping/get-shipments).

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

$client = new Client('{api_key}');

$client->shipment->getShipments();

```

### Get Shipment
Uses [Shipment](https://docs.sendbox.co/shipping/get-shipment).

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

$client = new Client('{api_key}');

$client->shipment->getShipments('{shipment_id}');

```

### Request Shipping quotes
Uses [Request quotes](https://docs.sendbox.co/shipping/request-shipping-quotes).

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

$client = new Client('{api_key}');
$quote = [
    "origin_name" => "Mrs. Hippo",
    "origin_phone" => "+2348170441446",
    "origin_street" => "Clayton St.",
    "origin_city" => "Ikorodu",
    "origin_country" => "NIGERIA",
    "origin_country_code" => "NG",
    "origin_state" => "Lagos",
    "origin_state_code" => "LOS",
    "destination_name" => "Brian",
    "destination_phone" => "+2348170441446",
    "destination_street" => "Drydock Ave Suite 610",
    "destination_city" => "Ikeja",
    "destination_country" => "NIGERIA",
    "destination_country_code" => "NG",
    "destination_state" => "Lagos",
    "destination_state_code" => "LOS",
    "weight" => "0.5",
    "items" => [
        [
            "name" => "Test Brian Iyoha",
            "quantity" => "1",
            "weight" => "1",
            "amount" => "100",
            "value" => "120000"
        ]
    ]
];

$client->shipment->quotes($quote);

```

### Create New Shipment
Uses [Create new shipment](https://docs.sendbox.co/shipping/create-new-shipment).

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

$client = new Client('{api_key}');

$createShipment = [
    "origin_name" => "Mrs. Hippo",
    "origin_phone" => "+2348170441446",
    "origin_street" => "Clayton St.",
    "origin_city" => "Ikorodu",
    "origin_country" => "NIGERIA",
    "origin_country_code" => "NG",
    "origin_state" => "Lagos",
    "origin_state_code" => "LOS",
    "destination_name" => "Brian",
    "destination_phone" => "+2348170441446",
    "destination_street" => "Drydock Ave Suite 610",
    "destination_city" => "Ikeja",
    "destination_country" => "NIGERIA",
    "destination_country_code" => "NG",
    "destination_state" => "Lagos",
    "destination_state_code" => "LOS",
    "weight" => "0.5",
    "items" => [
        [
            "name" => "Test Brian Iyoha",
            "quantity" => "1",
            "weight" => "1",
            "amount" => "100",
            "value" => "120000"

        ]
    ],
    "selected_courier_id" => "rate_key_86a68758ead65de840b8f3e8e235a18f",
    "channel_code" => "api"
];

$client->shipment->create($createShipment);

```

### Saved addresses
Uses [Saved addreses](https://docs.sendbox.co/shipping/saved-addresses).

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

$client = new Client('{api_key}');

$client->shipment->addresses()

```

## Payment
### Payment Profile
Uses [Profile](https://docs.sendbox.co/shipping/create-new-shipment#check-your-staging-account-balance).

```php
<?php

// This file is generated by Composer
require_once __DIR__ . '/vendor/autoload.php';

use AbdulsalamIshaq\Sendbox\Client;

$client = new Client('{api_key}');
$client->payment->profile()
```

> Note: This package does not include the complete api endpoints because some endpoints return 404

## Testing

```bash
composer test
```

## Changelog

Please see [CHANGELOG](CHANGELOG.md) for more information on what has changed recently.

## Security Vulnerabilities

Please review [our security policy](../../security/policy) on how to report security vulnerabilities.

## Credits

- [Abdulsalam Ishaq](https://github.com/abdulsalamishaq)
- [All Contributors](../../contributors)

## License

The MIT License (MIT). Please see [License File](LICENSE.md) for more information.
